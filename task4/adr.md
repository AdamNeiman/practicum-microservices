### <a name="_b7urdng99y53"></a>**Название задачи:** Проработка критериев выбора архитектурного решения
### <a name="_hjk0fkfyohdk"></a>**Автор:** Штокало Андрей
### <a name="_uanumrh8zrui"></a>**Дата:** 27 июля 2025

---

### Описание задачи

Необходимо сравнить два архитектурных варианта системы мониторинга свиноводческой фермы по ключевым критериям и обосновать выбор основного решения для дальнейшей реализации.

---

### Критерии для сравнения

| № | Критерий                               | Описание                                                                         |
| - | -------------------------------------- | -------------------------------------------------------------------------------- |
| 1 | Производительность                     | Скорость реагирования, масштабируемость, способность обрабатывать большие потоки |
| 2 | Надёжность/отказоустойчивость          | Способность системы работать при сбоях, лёгкость восстановления                  |
| 3 | Простота сопровождения                 | Уровень трудозатрат на поддержку, обновление, CI/CD                              |
| 4 | Гибкость и масштабируемость            | Возможность легко добавлять функционал, масштабировать под новые фермы           |
| 5 | Стоимость внедрения и эксплуатации     | Прямые и косвенные расходы на инфраструктуру, лицензии, команду                  |
| 6 | Время вывода на рынок (Time-to-Market) | Быстрота создания MVP и вывода его в работу                                      |
| 7 | Безопасность                           | Возможности разграничения доступа, IAM, аудит                                    |
| 8 | Требования к инфраструктуре            | Наличие/отсутствие сложной инфраструктуры, критичных точек отказа                |

---

### Таблица сравнения вариантов

| Критерий                           | Микросервисная архитектура (Вариант 1)                                      | Монолитное решение (Вариант 2)                               |
| ---------------------------------- | --------------------------------------------------------------------------- | ------------------------------------------------------------ |
| Производительность                 | Масштабируется по сервисам, Kafka/S3 выдерживают нагрузку, быстрый отклик   | Производительность хорошая, но есть верхний предел при росте |
| Надёжность/отказоустойчивость      | Высокая, каждый сервис может быть отказоустойчивым, есть балансировка       | Ниже: сбой в монолите — сбой всей системы                    |
| Простота сопровождения             | Сложнее: DevOps, CI/CD, мониторинг, больше точек для отслеживания           | Проще: всё в одном, минимум DevOps, легко обновлять          |
| Гибкость и масштабируемость        | Легко добавлять новые сервисы и фичи, масштабировать по необходимости       | Модификации затрагивают весь код, сложно выделить новое      |
| Стоимость внедрения и эксплуатации | Выше: сложнее инфраструктура, больше компонентов, требует опытных инженеров | Ниже: минимальные требования, дешевле для MVP                |
| Время вывода на рынок              | Дольше: архитектурная проработка, настройка CI/CD, интеграции               | Быстрее: MVP можно собрать за 2–4 недели                     |
| Безопасность                       | IAM (Keycloak/Auth0), ролевая модель, централизованный аудит                | Простейшая: может быть только базовое разграничение          |
| Требования к инфраструктуре        | Требует Kafka, S3/MinIO, балансировщиков, IAM, мониторинга                  | Минимум: БД, сервер, брокер RabbitMQ или REST                |

---

### Визуализация вариантов

| Микросервисная архитектура (Вариант 1)            | Монолитное решение (Вариант 2)                   |
|---------------------------------------------------|--------------------------------------------------|  
| [Диаграмма контекста C1](../Task1/C1_main.puml)   | [Диаграмма контекста C1](../Task1/C1_alt.puml)   |
| [Диаграмма контейнеров C2](../Task2/C2_main.puml) | [Диаграмма контейнеров C2](../Task2/C2_alt.puml) |
| [Диаграмма компонентов С3](../Task3/C3_main.puml) | [Диаграмма компонентов С3](../Task3/C3_alt.puml) |
| [Диаграмма кода С4](../Task3/C4_main.puml)        | [Диаграмма кода С4](../Task3/C4_alt.puml)        |


---

### Резюме и рекомендация

#### Микросервисная архитектура (Вариант 1):

* Подходит для масштабирования на множество ферм, интеграции с другими системами и долгосрочного развития
* Выше надёжность, гибкость, удобство сопровождения на дистанции
* Существенно выше стартовые затраты на инфраструктуру и инженеров, требуется время на запуск

#### Монолит (Вариант 2):

* Максимально быстрое и дешёвое создание MVP
* Минимум сложной инфраструктуры, подходит для пилотных внедрений или коротких экспериментов
* Плохо масштабируется, сложно поддерживать и дорабатывать при росте требований

**Рекомендация:**

* Для быстрого запуска (MVP, пилот) — выбрать монолитную архитектуру
* При переходе к промышленной эксплуатации и масштабированию — переводить систему на микросервисную архитектуру
* Уже при проектировании монолита заложить возможность дальнейшей миграции на микросервисы (выделение доменов, отдельные модули)

---

> Все детали, диаграммы и аргументация доступны в папках Task1, Task2 и Task3 репозитория.
